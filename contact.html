<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>新潟屋内サバイバルゲーム - お問い合わせ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8; /* Light background */
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        main {
            flex-grow: 1;
            padding-top: 64px;
            padding-bottom: 64px;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            padding-left: 1rem;
            padding-right: 1rem;
        }
        .form-row {
            display: flex;
            align-items: flex-start;
            margin-bottom: 1rem;
        }
        .form-row label {
            min-width: 120px;
            flex-shrink: 0;
            margin-right: 1rem;
            text-align: right;
            padding-top: 0.25rem;
        }
        .form-row .input-container {
            flex-grow: 1;
        }
        .form-row input, .form-row select, .form-row textarea {
            width: 100%;
        }
        @media (max-width: 768px) {
            .form-row {
                flex-direction: column;
                align-items: flex-start;
            }
            .form-row label {
                min-width: auto;
                width: 100%;
                text-align: left;
                margin-right: 0;
                margin-bottom: 0.5rem;
                padding-top: 0;
            }
        }

        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #e2e8f0;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb {
            background: #94a3b8;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #64748b;
        }
        .error-message {
            color: #ef4444;
            font-size: 0.875rem;
            margin-top: 0.25rem;
            display: none;
        }
        .error-message.active {
            display: block;
        }
        .input-error {
            border-color: #ef4444;
            box-shadow: 0 0 0 1px #ef4444;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <header class="fixed top-0 left-0 w-full bg-gradient-to-r from-blue-600 to-indigo-700 text-white shadow-lg z-50 p-4 flex items-center justify-between">
        <div class="text-2xl font-bold tracking-wide">
            <a href="home.html" class="hover:text-blue-200 transition-colors duration-300">
                サバゲー新潟
            </a>
        </div>
        <nav>
            <ul class="flex space-x-6">
                <li><a href="home.html" class="hover:text-blue-200 transition-colors duration-300 font-medium">ホーム</a></li>
                <li><a href="booking.html" class="hover:text-blue-200 transition-colors duration-300 font-medium">予約</a></li>
                <li><a href="login.html" class="hover:text-blue-200 transition-colors duration-300 font-medium">ログアウト</a></li>
            </ul>
        </nav>
    </header>

    <main class="flex-grow container mx-auto p-4 md:p-8 flex items-center justify-center">

        <section id="contact" class="bg-white p-8 md:p-12 rounded-xl shadow-2xl w-full max-w-2xl border border-gray-200">
            <h2 class="text-4xl font-extrabold text-center text-gray-900 mb-8">お問い合わせ</h2>
            <p class="text-lg text-gray-700 mb-6 text-center">ご不明な点がございましたら、以下のフォームよりお気軽にお問い合わせください。</p>

            <form id="contactForm" class="space-y-6" onsubmit="return false;">
                <div class="form-row">
                    <label for="name" class="block text-sm font-medium text-gray-700">お名前</label>
                    <div class="input-container">
                        <input type="text" id="name" name="name" required
                            class="block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-base"
                            placeholder="山田 太郎" oninput="clearErrorMessage(this, 'name-error')">
                        <p id="name-error" class="error-message"></p>
                    </div>
                </div>
                <div class="form-row">
                    <label for="email" class="block text-sm font-medium text-gray-700">メールアドレス</label>
                    <div class="input-container">
                        <input type="email" id="email" name="email" required
                            class="block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-base"
                            placeholder="your@example.com" oninput="clearErrorMessage(this, 'email-error')">
                        <p id="email-error" class="error-message"></p>
                    </div>
                </div>
                <div class="form-row">
                    <label for="subject" class="block text-sm font-medium text-gray-700">件名</label>
                    <div class="input-container">
                        <input type="text" id="subject" name="subject" required
                            class="block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-base"
                            placeholder="予約について" oninput="clearErrorMessage(this, 'subject-error')">
                        <p id="subject-error" class="error-message"></p>
                    </div>
                </div>
                <div class="form-row">
                    <label for="message" class="block text-sm font-medium text-gray-700">お問い合わせ内容</label>
                    <div class="input-container">
                        <textarea id="message" name="message" rows="12" required
                                class="block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-base"
                                placeholder="具体的な内容をご記入ください" oninput="clearErrorMessage(this, 'message-error')"></textarea>
                        <p id="message-error" class="error-message"></p>
                    </div>
                </div>
                <div class="text-center mt-6">
                    <button type="button" onclick="validateAndSendMessage()"
                            class="inline-flex items-center px-8 py-3 border border-transparent text-lg font-semibold rounded-lg shadow-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-300 transform hover:-translate-y-0.5">
                        送信する
                    </button>
                </div>
            </form>
        </section>

    </main>

    <footer class="fixed bottom-0 left-0 w-full bg-gray-800 text-gray-300 shadow-inner z-50 p-4 text-center text-sm">
        <p>&copy; 2025 新潟屋内サバイバルゲーム. All rights reserved.</p>
        <div class="mt-2 space-x-4">
            <a href="#" class="hover:text-white transition-colors duration-300">プライバシーポリシー</a>
            <a href="#" class="hover:text-white transition-colors duration-300">利用規約</a>
        </div>
    </footer>

    <script>
        // エラーメッセージを表示するヘルパー関数
        function showErrorMessage(inputElement, errorMessageId, message) {
            const errorElement = document.getElementById(errorMessageId);
            errorElement.textContent = message;
            errorElement.classList.add('active');
            if (inputElement) { // inputElementが存在する場合のみクラスを追加
                inputElement.classList.add('input-error');
            }
        }

        // エラーメッセージをクリアするヘルパー関数
        function clearErrorMessage(inputElement, errorMessageId) {
            const errorElement = document.getElementById(errorMessageId);
            errorElement.classList.remove('active');
            if (inputElement) { // inputElementが存在する場合のみクラスを削除
                inputElement.classList.remove('input-error');
            }
        }

        // 全てのお問い合わせフォームのエラーをクリアする関数
        function clearAllContactFormErrors() {
            clearErrorMessage(document.getElementById('name'), 'name-error');
            clearErrorMessage(document.getElementById('email'), 'email-error');
            clearErrorMessage(document.getElementById('subject'), 'subject-error');
            clearErrorMessage(document.getElementById('message'), 'message-error');
        }

        /**
         * お問い合わせフォームのバリデーションを行い、送信処理を実行します。
         */
        function validateAndSendMessage() {
            clearAllContactFormErrors(); // まず全てのエラーをクリア

            const nameInput = document.getElementById('name');
            const emailInput = document.getElementById('email');
            const subjectInput = document.getElementById('subject');
            const messageTextarea = document.getElementById('message');

            const nameValue = nameInput.value.trim();
            const emailValue = emailInput.value.trim();
            const subjectValue = subjectInput.value.trim();
            const messageValue = messageTextarea.value.trim();

            let isValid = true;

            if (nameValue === '') {
                showErrorMessage(nameInput, 'name-error', 'お名前を入力してください。');
                isValid = false;
            }

            if (emailValue === '') {
                showErrorMessage(emailInput, 'email-error', 'メールアドレスを入力してください。');
                isValid = false;
            } else if (!emailValue.includes('@') || emailValue.length < 5) {
                showErrorMessage(emailInput, 'email-error', '有効なメールアドレス形式で入力してください。');
                isValid = false;
            }

            if (subjectValue === '') {
                showErrorMessage(subjectInput, 'subject-error', '件名を入力してください。');
                isValid = false;
            }

            if (messageValue === '') {
                showErrorMessage(messageTextarea, 'message-error', 'お問い合わせ内容を入力してください。');
                isValid = false;
            }

            if (!isValid) {
                return; // エラーがある場合は処理を中断
            }

            // バリデーションを通過した場合、確認メッセージを表示
            if (confirm('お問い合わせ内容を送信します。よろしいですか？')) {
                // 「OK」が押されたら、送信完了画面へ遷移
                window.location.href = 'message_sent.html';
            } else {
                // 「キャンセル」が押されたら、何もしない
                alert('送信をキャンセルしました。');
            }
        }
    </script>
</body>
</html>